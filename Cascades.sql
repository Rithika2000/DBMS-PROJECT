CREATE TABLE T10_APPLICATION
(
T10_2_Application_Id VARCHAR(20) NOT NULL ,
T10_2_Vehicle_Id VARCHAR(20) NOT NULL ,
T10_2_Application_Status VARCHAR(20) NOT NULL ,
T10_2_Coverage VARCHAR(50) NOT NULL ,
T10_1_Cust_Id VARCHAR(20) NOT NULL ,
CONSTRAINT XPKAPPLICATION_2 PRIMARY KEY (T10_2_Application_Id,T10_1_Cust_Id),
CONSTRAINT R_93 FOREIGN KEY (T10_1_Cust_Id) REFERENCES T10_CUSTOMER
(T10_1_Cust_Id) on delete restrict
);
CREATE UNIQUE INDEX XPKAPPLICATION_2 ON T10_APPLICATION
(T10_2_Application_Id ASC,T10_1_Cust_Id ASC);

INSERT INTO T10_APPLICATION(T10_2_Application_Id,T10_2_Vehicle_Id,T10_2_Application_Status,T10_2_Coverage,T10_1_Cust_Id)
	VALUES(1000,100021,'Approved',25000,109);#
INSERT INTO T10_APPLICATION VALUES(1001,100032,'Approved',20000,105);#
INSERT INTO T10_APPLICATION VALUES(1002,100043,'Unapproved',30000,101);#
INSERT INTO T10_APPLICATION VALUES(1003,100054,'Approved',50000,103);#
INSERT INTO T10_APPLICATION VALUES(1004,100065,'Unapproved',28000,100);#
INSERT INTO T10_APPLICATION VALUES(1005,100076,'Unapproved',100000,106);#
INSERT INTO T10_APPLICATION VALUES(1006,100087,'Approved',60000,102);#
INSERT INTO T10_APPLICATION VALUES(1007,100098,'Unapproved',54000,107);#
INSERT INTO T10_APPLICATION VALUES(1008,100109,'Approved',50000,104);#
INSERT INTO T10_APPLICATION VALUES(1010,100120,'Unpproved',80000,108);#
INSERT INTO T10_APPLICATION VALUES(1011,100120,'Unapproved',25000,108);#
INSERT INTO T10_APPLICATION VALUES(1021,100120,'Unapproved',100000,108);#
INSERT INTO T10_APPLICATION VALUES(1032,100120,'Approved',75000,1020);#
INSERT INTO T10_APPLICATION VALUES(1045,100120,'Approved',90000,1030);#
INSERT INTO T10_APPLICATION VALUES(1055,100120,'Unapproved',200000,1044);#
    
#TABLE 3

DELETE FROM T10_CUSTOMER
WHERE (T10_1_Cust_Id = 1058 AND T10_1_Cust_Id <> 0);

CREATE TABLE T10_VEHICLE  
( 
T10_6_Vehicle_Id VARCHAR(20) NOT NULL ,  
T10_6_Policy_Id VARCHAR(20) NULL , 
T10_6_Dependent_NOK_Id VARCHAR(20) NULL ,  
T10_6_Vehicle_Registration_Number VARCHAR(20) NOT NULL ,  
T10_6_Vehicle_Value INTEGER NULL , 
T10_6_Vehicle_Type VARCHAR(20) NOT NULL ,  
T10_6_Vehicle_Size INTEGER NULL ,  
T10_6_Vehicle_Number_Of_Seat INTEGER NULL ,  
T10_6_Vehicle_Manufacturer VARCHAR(20) NULL ,  
T10_6_Vehicle_Engine_Number INTEGER NULL ,  
T10_6_Vehicle_Chasis_Number INTEGER NULL ,  
T10_6_Vehicle_Number VARCHAR(20) NULL ,  
T10_6_Vehicle_Model_Number VARCHAR(20) NULL ,  
T10_6_Cust_Id VARCHAR(20) NOT NULL , 
CONSTRAINT XPKVEHICLE_6 PRIMARY KEY (T10_6_Vehicle_Id,T10_6_Cust_Id),  
CONSTRAINT R_92 FOREIGN KEY (T10_6_Cust_Id) REFERENCES T10_CUSTOMER (T10_1_Cust_Id) ON DELETE RESTRICT
); 

CREATE UNIQUE INDEX XPKVEHICLE_6 ON T10_VEHICLE (T10_6_Vehicle_Id ASC,T10_6_Cust_Id ASC); 

#inserting values in vehicle

INSERT INTO T10_VEHICLE (T10_6_Vehicle_Id, T10_6_Policy_Id, T10_6_Dependent_NOK_Id, T10_6_Vehicle_Registration_Number, 
T10_6_Vehicle_Value, T10_6_Vehicle_Type, T10_6_Vehicle_Size, T10_6_Vehicle_Number_Of_Seat, T10_6_Vehicle_Manufacturer, T10_6_Vehicle_Engine_Number, 
T10_6_Vehicle_Chasis_Number, T10_6_Vehicle_Number, T10_6_Vehicle_Model_Number, T10_6_Cust_Id)
Values(1000, 10611,10000034,'KA-25 HA 1985',1074773,'Sports Car',10002,2,'Toyota',1098, 10928,1,'10HG290TUNIMI8001',101);



INSERT INTO T10_VEHICLE (T10_6_Vehicle_Id, T10_6_Policy_Id, T10_6_Dependent_NOK_Id, T10_6_Vehicle_Registration_Number, 
T10_6_Vehicle_Value, T10_6_Vehicle_Type, T10_6_Vehicle_Size, T10_6_Vehicle_Number_Of_Seat, T10_6_Vehicle_Manufacturer, T10_6_Vehicle_Engine_Number, 
T10_6_Vehicle_Chasis_Number, T10_6_Vehicle_Number, T10_6_Vehicle_Model_Number, T10_6_Cust_Id)
Values(1001, 106341,10000234,'TA-44 AR 9871',127489,'COUPE',10004,4,'Ford',1022, 10234,1,'10AY120RUEIWI2222',1058),
(1002, 105478,10009324,'hp-65 GT 6542',1074780,'PICKUP TRUCK',10789,4,'Tesla',1076, 10789,3,'10RT678NAISHA1024',104),
(1003, 100239,10007001,'AP-28 TE 4562',107373,'HATCHBACK',10908,5,'Suzuki',1039, 37263,2,'10IJ395HAMET78997',105),
(1004, 107291,10003562,'MA-17 NA 7118',1073733,'SEDAN',10671,5,'Tesla',1023, 32378,3,'10UH39IRVOP7783',101),
(1005, 102863,10273892,'TN-19 CH 2810',1027189,'COUPE',10267,5,'Suzuki',1099, 10618,2,'10WO45ITATM4173',107),
(1006, 107291,10273892,'UP-118 LK 1999',1037251,'Sports Car',10382,2,'Tesla',1026, 10237,3,'10GW45JTATU4173',108),
(1007, 101353,10736240,'UK-27 LA 6252',10364932,'STATION WAGON',10284,5,'Ford',1052, 10236,1,'10TW26DNEKO4726',109),
(1008, 103981,10329847,'KA-27 HA 5643',10239873,'PICKUP',10372,5,'Toyota',1010, 10151,2,'10PW27EHSYW3729',102),
(1009, 103414,10630634,'TE-09 HY 3622',10376434,'HATCHBACK',10362,7,'Renault',1028, 10317,3,'10TW26DREKR4726',103),
(10010, 103531,10623492,'MA-78 MU 1633',1032242122,'CONVERTIBLE',10362,7,'BMW',1042, 10410,1,'10YW28DYEYW4186',1010),
(10011, 105435,10364373,'PJ-20 LU 1414',1073412305,'PICKUP',10834,5,'HONDA',1073, 10382,2,'10RW52CEARS3641',1020),
(10012, 103633,10832321,'OR-26 BH 2712',107634374,'SPORTS CAR',10610,5,'NISSAN',1032, 10723,1,'10HD36JDTDJ8342',1010),
(10013, 1748465,10894723,'TN-12 TH 4429',104338202,'SEDAN',10630,8,'HONDA',1074, 10932,3,'10TW92JHFGD6634',1044),
(10014, 1095075,10236443,'MA-19 TH 2712',103330323,'HATCHBACK',10630,4,'COUPE',1026, 10613,2,'10RW23SGRAP8431',107);

DELETE FROM T10_CUSTOMER
WHERE (T10_1_Cust_Id = 101 AND T10_1_Cust_Id <> 0);

DELETE FROM T10_CUSTOMER
WHERE (T10_1_Cust_Id = 106 AND T10_1_Cust_Id <> 0);

# UPDATE CASCADE

UPDATE T10_CUSTOMER
SET T10_1_Cust_Id = 10777
WHERE T10_1_Cust_Id = 100;
